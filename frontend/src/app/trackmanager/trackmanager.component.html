<p-table [value]="tracks" [tableStyle]="{ 'min-width': '50rem', 'min-height': '20rem'}" [paginator]="true" [rows]="16"
    [rowsPerPageOptions]="[4, 8, 16, 24, 36]" [globalFilterFields]="['category']">
    <ng-template #header>
        <tr>
            <th>StartTimestamp</th>
            <th>Duration</th>
            <th>Distance</th>
            <th>Average speed</th>
            <th>Category</th>
        </tr>
        <tr>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th>
                <p-columnFilter field="category" matchMode="equals" [showClearButton]="false" [showMenu]="false">
                    <ng-template #filter let-value let-filter="filterCallback">
                        <p-select [ngModel]="value" [options]="categories" appendTo="body" (onChange)="filter($event.value)"
                            placeholder="Select One" [showClear]="true">
                        </p-select>
                    </ng-template>
                </p-columnFilter>
            </th>
        </tr>
    </ng-template>
    <ng-template #body let-track>
        <tr>
            <td>{{ track.startTimestampString }}</td>
            <td>{{ track.durationString }}</td>
            <td>{{ track.distanceMeters }}</td>
            <td>{{ track.averageSpeedKph.toFixed(4) }}</td>
            <td>
                <p-select [options]="categories" [(ngModel)]="track.category"
                    (onChange)="onCategoryChange($event.value, track.uuid)" />
            </td>
        </tr>
    </ng-template>
</p-table>